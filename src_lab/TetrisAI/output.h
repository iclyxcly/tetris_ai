#pragma once
#include <cstdint>
#include <vector>
#include "mino.h"
// THIS FILE IS NOT MEANT TO BE READ !!! PLEASE GENERATE A MINO CONFIG FILE USING JSON2HEADER
namespace moenew {
	constexpr uint8_t minodata[7][4][4] = {
		{{0, 0, 3, 6},
		{0, 4, 6, 2},
		{0, 3, 6, 0},
		{0, 2, 3, 1}},
		{{0, 0, 7, 4},
		{0, 6, 2, 2},
		{0, 1, 7, 0},
		{0, 2, 2, 3}},
		{{0, 0, 6, 3},
		{0, 2, 6, 4},
		{0, 6, 3, 0},
		{0, 1, 3, 2}},
		{{0, 0, 15, 0},
		{4, 4, 4, 4},
		{0, 15, 0, 0},
		{2, 2, 2, 2}},
		{{0, 0, 7, 2},
		{0, 2, 6, 2},
		{0, 2, 7, 0},
		{0, 2, 3, 2}},
		{{0, 0, 6, 6},
		{0, 12, 12, 0},
		{6, 6, 0, 0},
		{0, 3, 3, 0}},
		{{0, 0, 7, 1},
		{0, 2, 2, 6},
		{0, 4, 7, 0},
		{0, 3, 2, 2}}
	};
	constexpr int up_offset[7][4] = {
		{0, 0, -1, 0},
		{0, 0, -1, 0},
		{0, 0, -1, 0},
		{-1, 0, -2, 0},
		{0, 0, -1, 0},
		{0, -1, -2, -1},
		{0, 0, -1, 0}
	};
	constexpr int down_offset[7][4] = {
		{-2, -1, -1, -1},
		{-2, -1, -1, -1},
		{-2, -1, -1, -1},
		{-2, 0, -1, 0},
		{-2, -1, -1, -1},
		{-2, -1, 0, -1},
		{-2, -1, -1, -1}
	};
	constexpr int left_offset[7][4] = {
		{0, -1, 0, 0},
		{0, -1, 0, 0},
		{0, -1, 0, 0},
		{0, -2, 0, -1},
		{0, -1, 0, 0},
		{-1, -2, -1, 0},
		{0, -1, 0, 0}
	};
	constexpr int right_offset[7][4] = {
		{-1, -1, -1, -2},
		{-1, -1, -1, -2},
		{-1, -1, -1, -2},
		{0, -1, 0, -2},
		{-1, -1, -1, -2},
		{-1, 0, -1, -2},
		{-1, -1, -1, -2}
	};
	constexpr Minocache s_cache(left_offset[S], right_offset[S], minodata[S]);
	constexpr Minocache z_cache(left_offset[Z], right_offset[Z], minodata[Z]);
	constexpr Minocache l_cache(left_offset[L], right_offset[L], minodata[L]);
	constexpr Minocache j_cache(left_offset[J], right_offset[J], minodata[J]);
	constexpr Minocache i_cache(left_offset[I], right_offset[I], minodata[I]);
	constexpr Minocache o_cache(left_offset[O], right_offset[O], minodata[O]);
	constexpr Minocache t_cache(left_offset[T], right_offset[T], minodata[T]);
	constexpr Minocache mino_cache[7] = {s_cache, l_cache, z_cache, i_cache, t_cache, o_cache, j_cache};
	inline constexpr const uint32_t* cache_get(int m, int r, int x) {
		return mino_cache[m].get(r, x);
	}
	constexpr Minos::Coord cw_offset[7][4][8] = {
		{{{-1, 0}, {-1, -1}, {0, 2}, {-1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, 1}, {0, -2}, {-1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, -1}, {0, 2}, {1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, 1}, {0, -2}, {1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{-1, 0}, {-1, -1}, {0, 2}, {-1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, 1}, {0, -2}, {-1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, -1}, {0, 2}, {1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, 1}, {0, -2}, {1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{-1, 0}, {-1, -1}, {0, 2}, {-1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, 1}, {0, -2}, {-1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, -1}, {0, 2}, {1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, 1}, {0, -2}, {1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{1, 0}, {-2, 0}, {1, -2}, {-2, 1}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-2, 0}, {1, 0}, {-2, -1}, {1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {2, 0}, {-1, 2}, {2, -1}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{2, 0}, {-1, 0}, {2, 1}, {-1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{-1, 0}, {-1, -1}, {0, 2}, {-1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, 1}, {0, -2}, {-1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, -1}, {0, 2}, {1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, 1}, {0, -2}, {1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{1, 0}, {0, 1}, {-1, 0}, {-1, -1}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {0, -1}, {-1, 0}, {-1, 1}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {0, -1}, {1, 0}, {1, 1}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {0, 1}, {1, 0}, {1, -1}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{-1, 0}, {-1, -1}, {0, 2}, {-1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, 1}, {0, -2}, {-1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, -1}, {0, 2}, {1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, 1}, {0, -2}, {1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
	};
	constexpr Minos::Coord ccw_offset[7][4][8] = {
		{{{1, 0}, {1, -1}, {0, 2}, {1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, 1}, {0, -2}, {-1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, -1}, {0, 2}, {-1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, 1}, {0, -2}, {1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{1, 0}, {1, -1}, {0, 2}, {1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, 1}, {0, -2}, {-1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, -1}, {0, 2}, {-1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, 1}, {0, -2}, {1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{1, 0}, {1, -1}, {0, 2}, {1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, 1}, {0, -2}, {-1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, -1}, {0, 2}, {-1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, 1}, {0, -2}, {1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{2, 0}, {-1, 0}, {2, 1}, {-1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {-2, 0}, {1, -2}, {-2, 1}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-2, 0}, {1, 0}, {-2, -1}, {1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {2, 0}, {-1, 2}, {2, -1}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{1, 0}, {1, -1}, {0, 2}, {1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, 1}, {0, -2}, {-1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, -1}, {0, 2}, {-1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, 1}, {0, -2}, {1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{-1, 0}, {0, 1}, {1, 0}, {1, -1}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {0, 1}, {-1, 0}, {-1, -1}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {0, -1}, {-1, 0}, {-1, 1}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {0, -1}, {1, 0}, {1, 1}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{1, 0}, {1, -1}, {0, 2}, {1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, 1}, {0, -2}, {-1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{-1, 0}, {-1, -1}, {0, 2}, {-1, 2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{1, 0}, {1, 1}, {0, -2}, {1, -2}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
	};
	constexpr Minos::Coord _180_offset[7][4][8] = {
		{{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
		{{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}},
		{{0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}, {0, 0}}},
	};
	inline constexpr const Minos::Coord *clockwise(int m, int r) {
		return cw_offset[m][r];
	}
	inline constexpr const Minos::Coord *counterclockwise(int m, int r) {
		return ccw_offset[m][r];
	}
	inline constexpr const Minos::Coord *_180_spin(int m, int r) {
		return _180_offset[m][r];
	}
	constexpr int cw_size[7][4] = {
		{4, 4, 4, 4},
		{4, 4, 4, 4},
		{4, 4, 4, 4},
		{4, 4, 4, 4},
		{4, 4, 4, 4},
		{4, 4, 4, 4},
		{4, 4, 4, 4}
	};
	constexpr int ccw_size[7][4] = {
		{4, 4, 4, 4},
		{4, 4, 4, 4},
		{4, 4, 4, 4},
		{4, 4, 4, 4},
		{4, 4, 4, 4},
		{4, 4, 4, 4},
		{4, 4, 4, 4}
	};
	constexpr int _180_size[7][4] = {
		{0, 0, 0, 0},
		{0, 0, 0, 0},
		{0, 0, 0, 0},
		{0, 0, 0, 0},
		{0, 0, 0, 0},
		{0, 0, 0, 0},
		{0, 0, 0, 0}
	};
	inline constexpr const int& clockwise_size(int m, int r) {
		return cw_size[m][r];
	}
	inline constexpr const int& counter_clockwise_size(int m, int r) {
		return ccw_size[m][r];
	}
	inline constexpr const int& _180_spin_size(int m, int r) {
		return _180_size[m][r];
	}
}
